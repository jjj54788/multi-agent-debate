# å¤šæ™ºèƒ½ä½“è®¨è®ºç³»ç»Ÿ (Multi-Agent Debate System)

> åŸºäº MetaGPT æ¶æ„çš„æ™ºèƒ½è¾©è®ºå¹³å°ï¼Œè®©å¤šä¸ª AI æ™ºèƒ½ä½“ä»ä¸åŒè§†è§’æ·±å…¥è®¨è®ºä»»ä½•è¯é¢˜

![ä¸»é¡µæˆªå›¾](docs/images/screenshot-home.webp)

## ğŸ“– é¡¹ç›®ç®€ä»‹

å¤šæ™ºèƒ½ä½“è®¨è®ºç³»ç»Ÿæ˜¯ä¸€ä¸ªåˆ›æ–°çš„ AI è¾©è®ºå¹³å°ï¼Œé€šè¿‡åè°ƒå¤šä¸ªå…·æœ‰ä¸åŒäººæ ¼ç‰¹å¾çš„ AI æ™ºèƒ½ä½“è¿›è¡Œç»“æ„åŒ–è®¨è®ºã€‚ç³»ç»Ÿæ”¯æŒåå¯¹è€…ã€æ‰¹åˆ¤è€…ã€æ”¯æŒè€…ã€ä¸­ç«‹è€…å’Œåˆ›æ–°è€…ç­‰å¤šç§è§’è‰²ï¼Œèƒ½å¤Ÿä»å¤šä¸ªç»´åº¦æ·±å…¥åˆ†æå¤æ‚é—®é¢˜ï¼Œè‡ªåŠ¨ç”Ÿæˆè®¨è®ºæ€»ç»“ã€æå–å…³é”®è§‚ç‚¹ï¼Œå¹¶é€šè¿‡ä¸“ä¸šè¯„åˆ†è€…å¯¹æ¯æ¡å‘è¨€è¿›è¡Œé€»è¾‘ã€åˆ›æ–°å’Œè¡¨è¾¾ä¸‰ä¸ªç»´åº¦çš„è¯„åˆ†ã€‚

è¯¥ç³»ç»Ÿé€‚ç”¨äºå†³ç­–åˆ†æã€å¤´è„‘é£æš´ã€è§‚ç‚¹éªŒè¯ã€æ•™è‚²ç ”ç©¶ç­‰å¤šä¸ªåœºæ™¯ï¼Œä¸ºç”¨æˆ·æä¾›å…¨æ–¹ä½çš„æ€ç»´ç¢°æ’å’Œæ·±åº¦æ´å¯Ÿã€‚

## âœ¨ æ ¸å¿ƒç‰¹æ€§

### ğŸ¤– å¤šæ™ºèƒ½ä½“ååŒ

ç³»ç»Ÿå†…ç½®8ç§é¢„è®¾æ™ºèƒ½ä½“ï¼Œæ¯ä¸ªæ™ºèƒ½ä½“å…·æœ‰ç‹¬ç‰¹çš„äººæ ¼ç‰¹å¾å’Œè®¨è®ºé£æ ¼ï¼š

| æ™ºèƒ½ä½“ | è§’è‰²å®šä½ | æ ¸å¿ƒèƒ½åŠ› |
|--------|----------|----------|
| **åå¯¹è€…** | è´¨ç–‘æŒ‘æˆ˜è€… | ä»åé¢è§’åº¦è´¨ç–‘è§‚ç‚¹ï¼Œå¯»æ‰¾æ¼æ´å’ŒçŸ›ç›¾ |
| **æ‰¹åˆ¤è€…** | é€»è¾‘åˆ†æå¸ˆ | ä¸¥æ ¼çš„é€»è¾‘æ¨ç†å’Œè¯æ®è¦æ±‚ |
| **æ”¯æŒè€…** | ç§¯æå»ºè®¾è€… | å¯»æ‰¾ä¼˜åŠ¿å’Œå¯è¡Œæ€§ï¼Œæä¾›å»ºè®¾æ€§å»ºè®® |
| **ä¸­ç«‹è€…** | å®¢è§‚è¯„ä¼°è€… | å¹³è¡¡åˆ†æå„æ–¹è§‚ç‚¹ï¼Œæä¾›ä¸­ç«‹è§†è§’ |
| **åˆ›æ–°è€…** | åˆ›æ„é—®é¢˜è§£å†³è€… | æå‡ºåˆ›æ–°æ€è·¯å’Œéä¼ ç»Ÿè§£å†³æ–¹æ¡ˆ |
| **é€»è¾‘è¯„åˆ†è€…** | é€»è¾‘ä¸¥è°¨æ€§è¯„ä¼° | è¯„ä¼°è®ºè¯çš„é€»è¾‘æ€§å’Œè¿è´¯æ€§ï¼ˆæ»¡åˆ†10åˆ†ï¼‰ |
| **åˆ›æ–°è¯„åˆ†è€…** | åˆ›æ–°æ€§è¯„ä¼° | è¯„ä¼°è§‚ç‚¹çš„æ–°é¢–æ€§å’Œçªç ´æ€§ï¼ˆæ»¡åˆ†10åˆ†ï¼‰ |
| **è¡¨è¾¾è¯„åˆ†è€…** | è¡¨è¾¾è´¨é‡è¯„ä¼° | è¯„ä¼°è¯­è¨€çš„æ¸…æ™°åº¦å’Œè¯´æœåŠ›ï¼ˆæ»¡åˆ†10åˆ†ï¼‰ |

### ğŸ’¬ å®æ—¶è®¨è®ºå¼•æ“

ç³»ç»Ÿé‡‡ç”¨ WebSocket å®æ—¶é€šä¿¡æŠ€æœ¯ï¼Œæ”¯æŒå¤šè½®è®¨è®ºæµç¨‹ï¼š

- **æ™ºèƒ½æ¶ˆæ¯è·¯ç”±**ï¼šæ ¹æ®è®¨è®ºè½®æ¬¡è‡ªåŠ¨åˆ†é…å‘è¨€é¡ºåº
- **çŠ¶æ€å®æ—¶åŒæ­¥**ï¼šæ™ºèƒ½ä½“çŠ¶æ€ï¼ˆæ€è€ƒä¸­ã€å‘è¨€ä¸­ã€ç©ºé—²ï¼‰å®æ—¶æ›´æ–°
- **å†å²æ¶ˆæ¯åŠ è½½**ï¼šé¡µé¢åˆ·æ–°åè‡ªåŠ¨æ¢å¤å®Œæ•´è®¨è®ºå†å²
- **æ–­çº¿é‡è¿æœºåˆ¶**ï¼šç½‘ç»œä¸­æ–­åè‡ªåŠ¨é‡æ–°è¿æ¥å¹¶åŒæ­¥çŠ¶æ€

### ğŸ“Š æ™ºèƒ½è¯„åˆ†ç³»ç»Ÿ

æ¯æ¡å‘è¨€éƒ½ä¼šç”±3ä¸ªä¸“ä¸šè¯„åˆ†è€…æ™ºèƒ½ä½“è¿›è¡Œç‹¬ç«‹è¯„åˆ†ï¼š

- **é€»è¾‘åˆ†**ï¼ˆ0-10åˆ†ï¼‰ï¼šè¯„ä¼°è®ºè¯çš„ä¸¥å¯†æ€§ã€æ¨ç†çš„åˆç†æ€§
- **åˆ›æ–°åˆ†**ï¼ˆ0-10åˆ†ï¼‰ï¼šè¯„ä¼°è§‚ç‚¹çš„æ–°é¢–æ€§ã€æ€ç»´çš„çªç ´æ€§
- **è¡¨è¾¾åˆ†**ï¼ˆ0-10åˆ†ï¼‰ï¼šè¯„ä¼°è¯­è¨€çš„æ¸…æ™°åº¦ã€è®ºè¿°çš„è¯´æœåŠ›
- **æ€»åˆ†**ï¼ˆ0-30åˆ†ï¼‰ï¼šä¸‰ä¸ªç»´åº¦çš„ç»¼åˆå¾—åˆ†
- **è¯¦ç»†è¯„åˆ†ç†ç”±**ï¼šæ¯ä¸ªç»´åº¦éƒ½æä¾›å…·ä½“çš„è¯„åˆ†è¯´æ˜

### ğŸ¯ è®¨è®ºåˆ†æåŠŸèƒ½

è®¨è®ºç»“æŸåè‡ªåŠ¨ç”Ÿæˆå…¨é¢çš„åˆ†ææŠ¥å‘Šï¼š

- **è®¨è®ºäº®ç‚¹**ï¼šæœ€ä½³è§‚ç‚¹ã€æœ€åˆ›æ–°è§‚ç‚¹ã€ç²¾å½©é‡‘å¥
- **å®Œæ•´æ€»ç»“**ï¼šè®¨è®ºæ ¸å¿ƒå†…å®¹çš„ç»“æ„åŒ–æ€»ç»“
- **å…³é”®è§‚ç‚¹**ï¼šæå–å„æ–¹çš„æ ¸å¿ƒè®ºç‚¹
- **åˆ†æ­§ç‚¹åˆ†æ**ï¼šè¯†åˆ«å¹¶å½’çº³ä¸»è¦äº‰è®®ç‚¹

### ğŸ“ˆ å¯è§†åŒ–å±•ç¤º

æä¾›ç›´è§‚çš„è®¨è®ºè¿‡ç¨‹å¯è§†åŒ–ï¼š

- **æ—¶é—´çº¿è§†å›¾**ï¼šæŒ‰è½®æ¬¡å±•ç¤ºè®¨è®ºè¿›ç¨‹ï¼Œæ¸…æ™°å‘ˆç°å‘è¨€é¡ºåº
- **æ™ºèƒ½ä½“çŠ¶æ€å¡ç‰‡**ï¼šå®æ—¶æ˜¾ç¤ºæ¯ä¸ªæ™ºèƒ½ä½“çš„çŠ¶æ€å’Œè§’è‰²ä¿¡æ¯
- **è¯„åˆ†å¯è§†åŒ–**ï¼šæ¯æ¡æ¶ˆæ¯é™„å¸¦è¯„åˆ†å¾½ç« å’Œè¯¦ç»†è¯„åˆ†ç†ç”±
- **è¿›åº¦æŒ‡ç¤ºå™¨**ï¼šå®æ—¶æ˜¾ç¤ºå½“å‰è®¨è®ºè¿›åº¦ï¼ˆç¬¬Xè½®/å…±Yè½®ï¼‰

## ğŸ› ï¸ æŠ€æœ¯æ¶æ„

### æŠ€æœ¯æ ˆ

**å‰ç«¯æŠ€æœ¯**

- **React 19** + **TypeScript**ï¼šç°ä»£åŒ–çš„å‰ç«¯æ¡†æ¶å’Œç±»å‹å®‰å…¨
- **Tailwind CSS 4**ï¼šå®ç”¨ä¼˜å…ˆçš„ CSS æ¡†æ¶
- **shadcn/ui**ï¼šé«˜è´¨é‡çš„ React ç»„ä»¶åº“
- **tRPC 11**ï¼šç«¯åˆ°ç«¯ç±»å‹å®‰å…¨çš„ API è°ƒç”¨
- **Socket.IO Client**ï¼šå®æ—¶åŒå‘é€šä¿¡
- **Wouter**ï¼šè½»é‡çº§è·¯ç”±åº“
- **Streamdown**ï¼šMarkdown æµå¼æ¸²æŸ“

**åç«¯æŠ€æœ¯**

- **Node.js** + **Express 4**ï¼šæœåŠ¡å™¨è¿è¡Œç¯å¢ƒ
- **tRPC 11**ï¼šç±»å‹å®‰å…¨çš„ API å±‚
- **Socket.IO**ï¼šWebSocket å®æ—¶é€šä¿¡
- **Drizzle ORM**ï¼šç±»å‹å®‰å…¨çš„æ•°æ®åº“ ORM
- **MySQL/TiDB**ï¼šå…³ç³»å‹æ•°æ®åº“
- **Superjson**ï¼šæ”¯æŒ Dateã€Mapã€Set ç­‰å¤æ‚ç±»å‹çš„åºåˆ—åŒ–

**AI é›†æˆ**

- **Manus AI API**ï¼šå†…ç½®çš„ LLM è°ƒç”¨æ¥å£
- **æ”¯æŒå¤šç§ AI æä¾›å•†**ï¼šOpenAIã€Anthropic ç­‰

### ç³»ç»Ÿæ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         å‰ç«¯å±‚ (React)                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚  è®¨è®ºåˆ›å»ºé¡µ   â”‚  â”‚  è®¨è®ºæˆ¿é—´é¡µ   â”‚  â”‚  å†å²è®°å½•é¡µ   â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚         â”‚                  â”‚                  â”‚              â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                          â”‚                                   â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚
â”‚              â”‚                       â”‚                       â”‚
â”‚         tRPC Client          Socket.IO Client                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚                       â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              â”‚                       â”‚                       â”‚
â”‚         tRPC Server          Socket.IO Server                â”‚
â”‚              â”‚                       â”‚                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚  â”‚   API è·¯ç”±å±‚ (tRPC)    â”‚  â”‚  WebSocket å±‚   â”‚             â”‚
â”‚  â”‚  - ä¼šè¯ç®¡ç†            â”‚  â”‚  - å®æ—¶æ¶ˆæ¯æ¨é€  â”‚             â”‚
â”‚  â”‚  - æ™ºèƒ½ä½“æŸ¥è¯¢          â”‚  â”‚  - çŠ¶æ€åŒæ­¥      â”‚             â”‚
â”‚  â”‚  - å†å²è®°å½•            â”‚  â”‚  - æˆ¿é—´ç®¡ç†      â”‚             â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚              â”‚                       â”‚                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚  â”‚          è®¨è®ºå¼•æ“ (Debate Engine)            â”‚             â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚             â”‚
â”‚  â”‚  â”‚  æ™ºèƒ½ä½“åè°ƒå™¨ (Agent Coordinator)   â”‚   â”‚             â”‚
â”‚  â”‚  â”‚  - è½®æ¬¡æ§åˆ¶                         â”‚   â”‚             â”‚
â”‚  â”‚  â”‚  - æ¶ˆæ¯è·¯ç”±                         â”‚   â”‚             â”‚
â”‚  â”‚  â”‚  - çŠ¶æ€ç®¡ç†                         â”‚   â”‚             â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚             â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚             â”‚
â”‚  â”‚  â”‚  è¯„åˆ†å¼•æ“ (Scoring Engine)          â”‚   â”‚             â”‚
â”‚  â”‚  â”‚  - é€»è¾‘è¯„åˆ†è€…                       â”‚   â”‚             â”‚
â”‚  â”‚  â”‚  - åˆ›æ–°è¯„åˆ†è€…                       â”‚   â”‚             â”‚
â”‚  â”‚  â”‚  - è¡¨è¾¾è¯„åˆ†è€…                       â”‚   â”‚             â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚             â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚             â”‚
â”‚  â”‚  â”‚  æ€»ç»“ç”Ÿæˆå™¨ (Summary Generator)     â”‚   â”‚             â”‚
â”‚  â”‚  â”‚  - è®¨è®ºæ€»ç»“                         â”‚   â”‚             â”‚
â”‚  â”‚  â”‚  - äº®ç‚¹æå–                         â”‚   â”‚             â”‚
â”‚  â”‚  â”‚  - è§‚ç‚¹å½’çº³                         â”‚   â”‚             â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚             â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚                      â”‚                                       â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”                              â”‚
â”‚              â”‚  LLM API è°ƒç”¨   â”‚                              â”‚
â”‚              â”‚  (Manus AI)     â”‚                              â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      â”‚                                       â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”                              â”‚
â”‚              â”‚  æ•°æ®æŒä¹…å±‚      â”‚                              â”‚
â”‚              â”‚  (Drizzle ORM)  â”‚                              â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                              â”‚
â”‚                      â”‚                                       â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”                              â”‚
â”‚              â”‚  MySQL/TiDB     â”‚                              â”‚
â”‚              â”‚  - agents       â”‚                              â”‚
â”‚              â”‚  - debate_sessions â”‚                          â”‚
â”‚              â”‚  - messages     â”‚                              â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ•°æ®æ¨¡å‹

ç³»ç»Ÿé‡‡ç”¨ä¸‰ä¸ªæ ¸å¿ƒæ•°æ®è¡¨ï¼š

**æ™ºèƒ½ä½“è¡¨ (agents)**

```typescript
{
  id: string              // æ™ºèƒ½ä½“å”¯ä¸€æ ‡è¯†
  name: string            // æ™ºèƒ½ä½“åç§°
  role: string            // è§’è‰²ç±»å‹ï¼ˆcritic, innovator, supporterç­‰ï¼‰
  description: string     // è§’è‰²æè¿°
  systemPrompt: string    // ç³»ç»Ÿæç¤ºè¯
  aiProvider: string      // AI æä¾›å•†ï¼ˆopenai, anthropicç­‰ï¼‰
  createdAt: Date         // åˆ›å»ºæ—¶é—´
}
```

**è®¨è®ºä¼šè¯è¡¨ (debate_sessions)**

```typescript
{
  id: string              // ä¼šè¯å”¯ä¸€æ ‡è¯†
  topic: string           // è®¨è®ºè¯é¢˜
  status: string          // çŠ¶æ€ï¼ˆactive, completedï¼‰
  totalRounds: number     // æ€»è½®æ•°
  currentRound: number    // å½“å‰è½®æ¬¡
  summary: string         // è®¨è®ºæ€»ç»“
  keyPoints: string[]     // å…³é”®è§‚ç‚¹
  disagreements: string[] // åˆ†æ­§ç‚¹
  bestViewpoint: string   // æœ€ä½³è§‚ç‚¹
  mostInnovative: string  // æœ€åˆ›æ–°è§‚ç‚¹
  bestQuote: string       // ç²¾å½©é‡‘å¥
  userId: string          // åˆ›å»ºç”¨æˆ·
  createdAt: Date         // åˆ›å»ºæ—¶é—´
  completedAt: Date       // å®Œæˆæ—¶é—´
}
```

**æ¶ˆæ¯è¡¨ (messages)**

```typescript
{
  id: string              // æ¶ˆæ¯å”¯ä¸€æ ‡è¯†
  sessionId: string       // æ‰€å±ä¼šè¯
  sender: string          // å‘é€è€…ï¼ˆæ™ºèƒ½ä½“IDï¼‰
  receiver: string        // æ¥æ”¶è€…ï¼ˆæ™ºèƒ½ä½“IDï¼‰
  content: string         // æ¶ˆæ¯å†…å®¹
  round: number           // æ‰€å±è½®æ¬¡
  sentiment: string       // æƒ…æ„Ÿå€¾å‘ï¼ˆpositive, negative, neutralï¼‰
  logicScore: number      // é€»è¾‘åˆ†ï¼ˆ0-10ï¼‰
  innovationScore: number // åˆ›æ–°åˆ†ï¼ˆ0-10ï¼‰
  expressionScore: number // è¡¨è¾¾åˆ†ï¼ˆ0-10ï¼‰
  totalScore: number      // æ€»åˆ†ï¼ˆ0-30ï¼‰
  scoringReasons: string  // è¯„åˆ†ç†ç”±ï¼ˆJSONæ ¼å¼ï¼‰
  isHighlight: boolean    // æ˜¯å¦ä¸ºäº®ç‚¹
  createdAt: Date         // åˆ›å»ºæ—¶é—´
}
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- **Node.js** >= 18.0.0
- **pnpm** >= 8.0.0
- **MySQL** >= 8.0 æˆ– **TiDB**

### å®‰è£…æ­¥éª¤

1. **å…‹éš†ä»“åº“**

```bash
git clone https://github.com/yourusername/multi-agent-debate.git
cd multi-agent-debate
```

2. **å®‰è£…ä¾èµ–**

```bash
pnpm install
```

3. **é…ç½®ç¯å¢ƒå˜é‡**

åˆ›å»º `.env` æ–‡ä»¶å¹¶é…ç½®ä»¥ä¸‹å˜é‡ï¼š

```env
# æ•°æ®åº“é…ç½®
DATABASE_URL="mysql://user:password@localhost:3306/debate_system"

# JWT å¯†é’¥
JWT_SECRET="your-jwt-secret-key"

# AI API é…ç½®
BUILT_IN_FORGE_API_URL="https://api.manus.im"
BUILT_IN_FORGE_API_KEY="your-api-key"

# OAuth é…ç½®ï¼ˆå¦‚æœä½¿ç”¨ Manus OAuthï¼‰
OAUTH_SERVER_URL="https://api.manus.im"
VITE_OAUTH_PORTAL_URL="https://portal.manus.im"
VITE_APP_ID="your-app-id"

# å‰ç«¯ API é…ç½®
VITE_FRONTEND_FORGE_API_URL="https://api.manus.im"
VITE_FRONTEND_FORGE_API_KEY="your-frontend-api-key"
```

4. **åˆå§‹åŒ–æ•°æ®åº“**

```bash
pnpm db:push
```

5. **å¯åŠ¨å¼€å‘æœåŠ¡å™¨**

```bash
pnpm dev
```

è®¿é—® `http://localhost:3000` å³å¯ä½¿ç”¨ç³»ç»Ÿã€‚

### Docker éƒ¨ç½²

```bash
# æ„å»ºé•œåƒ
docker build -t multi-agent-debate .

# è¿è¡Œå®¹å™¨
docker run -p 3000:3000 \
  -e DATABASE_URL="mysql://user:password@host:3306/debate_system" \
  -e BUILT_IN_FORGE_API_KEY="your-api-key" \
  multi-agent-debate
```

## ğŸ“š ä½¿ç”¨æŒ‡å—

### åˆ›å»ºè®¨è®º

1. ç‚¹å‡»"å¼€å§‹æ–°è®¨è®º"æŒ‰é’®
2. è¾“å…¥è®¨è®ºè¯é¢˜ï¼ˆä¾‹å¦‚ï¼š"è¿œç¨‹å·¥ä½œæ˜¯å¦ä¼šæˆä¸ºæœªæ¥çš„ä¸»æµå·¥ä½œæ¨¡å¼ï¼Ÿ"ï¼‰
3. é€‰æ‹©å‚ä¸è®¨è®ºçš„æ™ºèƒ½ä½“ï¼ˆè‡³å°‘2ä¸ªï¼‰
4. è®¾ç½®è®¨è®ºè½®æ•°ï¼ˆ1-10è½®ï¼‰
5. ç‚¹å‡»"å¼€å§‹è®¨è®º"

### è§‚çœ‹è®¨è®º

- **è®¨è®ºè®°å½•**ï¼šå·¦ä¾§æ˜¾ç¤ºå®Œæ•´çš„å‘è¨€å†…å®¹å’Œè¯„åˆ†ä¿¡æ¯
- **æ—¶é—´çº¿è§†å›¾**ï¼šå³ä¾§æŒ‰è½®æ¬¡å±•ç¤ºè®¨è®ºè¿›ç¨‹
- **æ™ºèƒ½ä½“çŠ¶æ€**ï¼šé¡¶éƒ¨å¡ç‰‡å®æ—¶æ˜¾ç¤ºæ¯ä¸ªæ™ºèƒ½ä½“çš„çŠ¶æ€
- **è¿›åº¦æŒ‡ç¤º**ï¼šæ˜¾ç¤ºå½“å‰è®¨è®ºè¿›åº¦ï¼ˆç¬¬Xè½®/å…±Yè½®ï¼‰

### æŸ¥çœ‹åˆ†æ

è®¨è®ºå®Œæˆåè‡ªåŠ¨æ˜¾ç¤ºï¼š

- **è®¨è®ºäº®ç‚¹**ï¼šæœ€ä½³è§‚ç‚¹ã€æœ€åˆ›æ–°è§‚ç‚¹ã€ç²¾å½©é‡‘å¥
- **å®Œæ•´æ€»ç»“**ï¼šè®¨è®ºæ ¸å¿ƒå†…å®¹çš„ç»“æ„åŒ–æ€»ç»“
- **å…³é”®è§‚ç‚¹**ï¼šå„æ–¹çš„æ ¸å¿ƒè®ºç‚¹åˆ—è¡¨
- **åˆ†æ­§ç‚¹**ï¼šä¸»è¦äº‰è®®ç‚¹å½’çº³

### å†å²è®°å½•

- ç‚¹å‡»"æŸ¥çœ‹å†å²è®¨è®º"æŸ¥çœ‹æ‰€æœ‰å·²å®Œæˆçš„è®¨è®º
- ç‚¹å‡»ä»»æ„è®¨è®ºå¯æŸ¥çœ‹å®Œæ•´çš„è®¨è®ºå†…å®¹å’Œåˆ†ææŠ¥å‘Š
- æ”¯æŒæŒ‰è¯é¢˜æœç´¢å’Œæ—¶é—´ç­›é€‰

## ğŸ¨ è‡ªå®šä¹‰é…ç½®

### æ·»åŠ æ–°æ™ºèƒ½ä½“

1. åœ¨æ•°æ®åº“ä¸­æ’å…¥æ–°çš„æ™ºèƒ½ä½“è®°å½•ï¼š

```sql
INSERT INTO agents (id, name, role, description, systemPrompt, aiProvider)
VALUES (
  'custom-agent-id',
  'è‡ªå®šä¹‰æ™ºèƒ½ä½“',
  'custom',
  'è§’è‰²æè¿°',
  'ä½ æ˜¯ä¸€ä¸ª...ï¼ˆç³»ç»Ÿæç¤ºè¯ï¼‰',
  'openai'
);
```

2. æ™ºèƒ½ä½“ä¼šè‡ªåŠ¨å‡ºç°åœ¨åˆ›å»ºè®¨è®ºé¡µé¢çš„é€‰æ‹©åˆ—è¡¨ä¸­

### ä¿®æ”¹è¯„åˆ†æ ‡å‡†

ç¼–è¾‘ `server/scoringEngine.ts` æ–‡ä»¶ä¸­çš„è¯„åˆ†æç¤ºè¯ï¼š

```typescript
const scoringPrompt = `
è¯·å¯¹ä»¥ä¸‹å‘è¨€è¿›è¡Œè¯„åˆ†ï¼ˆ0-10åˆ†ï¼‰ï¼š

è¯„åˆ†ç»´åº¦ï¼š
1. é€»è¾‘æ€§ï¼šè®ºè¯æ˜¯å¦ä¸¥å¯†ã€æ¨ç†æ˜¯å¦åˆç†
2. åˆ›æ–°æ€§ï¼šè§‚ç‚¹æ˜¯å¦æ–°é¢–ã€æ€ç»´æ˜¯å¦çªç ´
3. è¡¨è¾¾åŠ›ï¼šè¯­è¨€æ˜¯å¦æ¸…æ™°ã€è®ºè¿°æ˜¯å¦æœ‰è¯´æœåŠ›

å‘è¨€å†…å®¹ï¼š${content}
`;
```

### è°ƒæ•´è®¨è®ºæµç¨‹

ç¼–è¾‘ `server/debateEngine.ts` æ–‡ä»¶ä¸­çš„è®¨è®ºé€»è¾‘ï¼š

```typescript
// ä¿®æ”¹æ¶ˆæ¯è·¯ç”±è§„åˆ™
function getNextReceiver(currentSender: string, agents: Agent[]): string {
  // è‡ªå®šä¹‰è·¯ç”±é€»è¾‘
  return nextAgent.id;
}

// ä¿®æ”¹è½®æ¬¡æ§åˆ¶
async function executeDebateRound(session: DebateSession, round: number) {
  // è‡ªå®šä¹‰è½®æ¬¡é€»è¾‘
}
```

## ğŸ“– API æ–‡æ¡£

### tRPC API

ç³»ç»Ÿä½¿ç”¨ tRPC æä¾›ç±»å‹å®‰å…¨çš„ API æ¥å£ï¼š

**è·å–æ™ºèƒ½ä½“åˆ—è¡¨**

```typescript
const agents = await trpc.agents.list.query();
```

**åˆ›å»ºè®¨è®ºä¼šè¯**

```typescript
const session = await trpc.debates.create.mutate({
  topic: "è®¨è®ºè¯é¢˜",
  agentIds: ["agent1", "agent2"],
  totalRounds: 5
});
```

**è·å–ä¼šè¯è¯¦æƒ…**

```typescript
const session = await trpc.debates.getById.query({ id: "session-id" });
```

**è·å–å†å²è®°å½•**

```typescript
const history = await trpc.debates.history.query();
```

### WebSocket äº‹ä»¶

**å®¢æˆ·ç«¯å‘é€äº‹ä»¶**

```typescript
// åŠ å…¥è®¨è®ºæˆ¿é—´
socket.emit("join-debate", { sessionId: "session-id" });

// å¼€å§‹è®¨è®º
socket.emit("start-debate", { sessionId: "session-id" });
```

**æœåŠ¡å™¨æ¨é€äº‹ä»¶**

```typescript
// æ–°æ¶ˆæ¯
socket.on("new-message", (message) => {
  console.log("æ–°æ¶ˆæ¯:", message);
});

// æ™ºèƒ½ä½“çŠ¶æ€æ›´æ–°
socket.on("agent-status", (status) => {
  console.log("æ™ºèƒ½ä½“çŠ¶æ€:", status);
});

// è®¨è®ºå®Œæˆ
socket.on("debate-complete", (summary) => {
  console.log("è®¨è®ºæ€»ç»“:", summary);
});

// å†å²æ¶ˆæ¯
socket.on("historical-messages", (messages) => {
  console.log("å†å²æ¶ˆæ¯:", messages);
});
```

## ğŸ§ª æµ‹è¯•

### è¿è¡Œæµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
pnpm test

# è¿è¡Œç‰¹å®šæµ‹è¯•æ–‡ä»¶
pnpm test server/auth.logout.test.ts

# ç›‘å¬æ¨¡å¼
pnpm test --watch
```

### æµ‹è¯•è¦†ç›–ç‡

```bash
pnpm test --coverage
```

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿è´¡çŒ®ä»£ç ã€æŠ¥å‘Šé—®é¢˜æˆ–æå‡ºå»ºè®®ï¼

### è´¡çŒ®æµç¨‹

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

### ä»£ç è§„èŒƒ

- ä½¿ç”¨ TypeScript ç¼–å†™ä»£ç 
- éµå¾ª ESLint å’Œ Prettier é…ç½®
- ä¸ºæ–°åŠŸèƒ½æ·»åŠ æµ‹è¯•
- æ›´æ–°ç›¸å…³æ–‡æ¡£

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ã€‚è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶ã€‚

## ğŸ™ è‡´è°¢

- [MetaGPT](https://github.com/geekan/MetaGPT) - å¤šæ™ºèƒ½ä½“æ¡†æ¶çµæ„Ÿæ¥æº
- [tRPC](https://trpc.io/) - ç±»å‹å®‰å…¨çš„ API æ¡†æ¶
- [shadcn/ui](https://ui.shadcn.com/) - ä¼˜ç§€çš„ React ç»„ä»¶åº“
- [Manus AI](https://manus.im/) - AI API æ”¯æŒ

## ğŸ“ è”ç³»æ–¹å¼

- **é¡¹ç›®ä¸»é¡µ**: https://github.com/yourusername/multi-agent-debate
- **é—®é¢˜åé¦ˆ**: https://github.com/yourusername/multi-agent-debate/issues
- **è®¨è®ºäº¤æµ**: https://github.com/yourusername/multi-agent-debate/discussions

---

**ç”± Manus AI æ„å»º** ğŸš€
